---
import Layout from '@/layouts/Layout.astro'
import { CreateCoffeePage } from '@/components/roasteries/coffee/CreateCoffeePage'

export const prerender = false

// Validate roasteryId parameter (UUID format)
const { id } = Astro.params

const UUID_REGEX = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i

if (!id || !UUID_REGEX.test(id)) {
  return Astro.redirect('/404')
}
---

<Layout title="Dodaj kawÄ™">
  <CreateCoffeePage client:load roasteryId={id} />
</Layout>
